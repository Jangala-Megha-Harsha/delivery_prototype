<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sign Up - Foodie</title>
  <link rel="stylesheet" href="auth.css">
</head>
<body>
  <div class="auth-container">
    <div class="auth-box">
      <div class="auth-header">
        <div class="logo">
          <div class="mark">🍴</div>
          <h3>Join Foodie</h3>
        </div>
      </div>
      
      <form id="signupForm" onsubmit="signup(event)">
        <div class="input-group">
          <input type="text" id="fullName" placeholder="Full Name" required>
          <span class="input-icon">👤</span>
        </div>
        
        <div class="input-group">
          <input type="email" id="email" placeholder="Email address" required>
          <span class="input-icon">📧</span>
        </div>
        
        <div class="input-group">
          <input type="tel" id="phone" placeholder="Phone number" required>
          <span class="input-icon">📱</span>
        </div>
        
        <div class="input-group">
          <input type="password" id="password" placeholder="Password" required minlength="6">
          <span class="input-icon">🔒</span>
        </div>
        
        <div class="input-group">
          <input type="password" id="confirmPassword" placeholder="Confirm Password" required>
          <span class="input-icon">🔒</span>
        </div>
        
        <div class="password-strength">
          <div class="strength-bar">
            <div class="strength-fill" id="strengthFill"></div>
          </div>
          <span class="strength-text" id="strengthText">Password strength</span>
        </div>
        
        <div class="form-options">
          <label class="checkbox-container">
            <input type="checkbox" id="agreeTerms" required>
            <span class="checkmark"></span>
            I agree to the <a href="#" class="terms-link">Terms & Conditions</a>
          </label>
          
          <label class="checkbox-container">
            <input type="checkbox" id="newsletter">
            <span class="checkmark"></span>
            Subscribe to newsletter
          </label>
        </div>
        
        <button type="submit" id="authSubmit">
          <span class="button-text">Create Account</span>
          <div class="loading-spinner" style="display: none;"></div>
        </button>
      </form>
      
      <div class="divider">
        <span>or sign up with</span>
      </div>
      
      <div class="social-buttons">
        <button class="social-btn google-btn" onclick="socialSignup('google')">
          <span>🔍</span> Google
        </button>
        <button class="social-btn facebook-btn" onclick="socialSignup('facebook')">
          <span>📘</span> Facebook
        </button>
      </div>
      
      <div class="auth-footer">
        <p>Already have an account? <a href="login.html" class="auth-link">Sign In</a></p>
        <a href="index.html" class="back-link">← Back to Home</a>
      </div>
    </div>
  </div>

  <script>
    function signup(e) {
      e.preventDefault();
      
      const submitBtn = document.getElementById('authSubmit');
      const buttonText = submitBtn.querySelector('.button-text');
      const spinner = submitBtn.querySelector('.loading-spinner');
      
      const formData = {
        fullName: document.getElementById('fullName').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        password: document.getElementById('password').value,
        confirmPassword: document.getElementById('confirmPassword').value,
        agreeTerms: document.getElementById('agreeTerms').checked
      };
      
      // Validate inputs
      if (!validateForm(formData)) {
        return;
      }
      
      // Show loading state
      buttonText.style.display = 'none';
      spinner.style.display = 'inline-block';
      submitBtn.disabled = true;
      
      // Simulate signup process
      setTimeout(() => {
        // Reset button state
        buttonText.style.display = 'inline-block';
        spinner.style.display = 'none';
        submitBtn.disabled = false;
        
        showMessage('Account created successfully! Redirecting to login...', 'success');
        
        setTimeout(() => {
          window.location.href = 'login.html';
        }, 2000);
      }, 2000);
    }
    
    function validateForm(data) {
      // Check all fields
      if (!data.fullName || !data.email || !data.phone || !data.password || !data.confirmPassword) {
        showMessage('Please fill in all required fields', 'error');
        return false;
      }
      
      // Email validation
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(data.email)) {
        showMessage('Please enter a valid email address', 'error');
        return false;
      }
      
      // Phone validation
      // More flexible phone validation
      const phoneRegex = /^[\+]?[(]?[\d\s\-\(\)]{10,15}$/;
      if (!phoneRegex.test(data.phone.replace(/\s/g, ''))) {
        showMessage('Please enter a valid phone number', 'error');
        return false;
      }
      
      // Password validation
      if (data.password.length < 6) {
        showMessage('Password must be at least 6 characters long', 'error');
        return false;
      }
      
      if (data.password !== data.confirmPassword) {
        showMessage('Passwords do not match', 'error');
        return false;
      }
      
      // Terms validation
      if (!data.agreeTerms) {
        showMessage('Please agree to the Terms & Conditions', 'error');
        return false;
      }
      
      return true;
    }
    
    function checkPasswordStrength(password) {
      let strength = 0;
      const checks = [
        { regex: /.{6,}/, message: '6+ characters' },
        { regex: /[a-z]/, message: 'lowercase' },
        { regex: /[A-Z]/, message: 'uppercase' },
        { regex: /[0-9]/, message: 'numbers' },
        { regex: /[^A-Za-z0-9]/, message: 'symbols' }
      ];
      
      checks.forEach(check => {
        if (check.regex.test(password)) strength++;
      });
      
      const strengthFill = document.getElementById('strengthFill');
      const strengthText = document.getElementById('strengthText');
      
      const strengthLevels = [
        { text: 'Very Weak', color: '#ef4444', width: '20%' },
        { text: 'Weak', color: '#f59e0b', width: '40%' },
        { text: 'Fair', color: '#eab308', width: '60%' },
        { text: 'Good', color: '#22c55e', width: '80%' },
        { text: 'Strong', color: '#16a34a', width: '100%' }
      ];
      
      const level = strengthLevels[strength - 1] || strengthLevels[0];
      
      if (password.length > 0) {
        strengthFill.style.width = level.width;
        strengthFill.style.backgroundColor = level.color;
        strengthText.textContent = level.text;
        strengthText.style.color = level.color;
      } else {
        strengthFill.style.width = '0%';
        strengthText.textContent = 'Password strength';
        strengthText.style.color = '';
      }
    }
    
    function socialSignup(provider) {
      showMessage(`${provider} signup would be implemented here`, 'info');
    }
    
    function showMessage(message, type) {
      // Remove existing messages
      const existingMsg = document.querySelector('.message');
      if (existingMsg) {
        existingMsg.remove();
      }
      
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${type}`;
      messageDiv.textContent = message;
      
      const authBox = document.querySelector('.auth-box');
      authBox.insertBefore(messageDiv, authBox.firstChild);
      
      // Auto-remove after 3 seconds
      setTimeout(() => {
        if (messageDiv) {
          messageDiv.remove();
        }
      }, 3000);
    }
    
    // Add interactivity
    document.addEventListener('DOMContentLoaded', function() {
      const inputs = document.querySelectorAll('input');
      const passwordInput = document.getElementById('password');
      const confirmPasswordInput = document.getElementById('confirmPassword');
      
      inputs.forEach(input => {
        input.addEventListener('focus', function() {
          this.parentElement.classList.add('focused');
        });
        
        input.addEventListener('blur', function() {
          if (!this.value) {
            this.parentElement.classList.remove('focused');
          }
        });
      });
      
      // Password strength checker
      passwordInput.addEventListener('input', function() {
        checkPasswordStrength(this.value);
      });
      
      // Password confirmation checker
      confirmPasswordInput.addEventListener('input', function() {
        const password = passwordInput.value;
        const confirmPassword = this.value;
        
        if (confirmPassword && password !== confirmPassword) {
          this.setCustomValidity('Passwords do not match');
        } else {
          this.setCustomValidity('');
        }
      });
      
      // Phone number formatting
      const phoneInput = document.getElementById('phone');
      phoneInput.addEventListener('input', function() {
        let value = this.value.replace(/\D/g, '');
        if (value.length >= 6) {
          value = value.replace(/(\d{3})(\d{3})(\d{4})/, '$1-$2-$3');
        }
        this.value = value;
      });
    });
  </script>
</body>
</html>